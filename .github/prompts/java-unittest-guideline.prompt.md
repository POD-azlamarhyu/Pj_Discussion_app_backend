---
applyTo: "*.java"
description: "Javaの単体テストコードに関するガイドラインに従うことを指示する。"
---

# Java単体テストコードガイドライン
## 基本理念
  - 単体テストコードは、ソフトウェアの品質を保証し、バグを早期に発見するための重要な手段である
  - テストコードは読みやすく、シンプルで保守しやすいものでなければならない
  - テストコードは本番コードと同様に高い品質基準を満たす必要がある
  - 読み手に対して明確な意図が伝わるように設計すること
  - テストを独立させて、他のテストに影響を与えないようにし、変更しやすいものであること

## テストケース設計
  - 各テストケースは単一の機能またはシナリオをテストすること
  - 境界値分析、同値クラステスト、異常系テストを含むこと
  - 正常系と異常系の両方のシナリオをカバーすること
  - テストケースは独立して実行可能であること
  - テストケースは再現性があること

## 使用するフレームワークとライブラリ
  - JUnit 5を使用すること
  - Mockitoを使用してモックオブジェクトを作成すること
  - AssertJを使用してアサーションを行うこと

## テストコードの構造
  - Arrange-Act-Assert（AAA）パターンを使用してテストコードを構造化すること
  - テストメソッド名は、テスト対象のメソッド名、期待される結果を含むこと
  - テストクラスは、テスト対象のクラス名に「Tests」または「Test」を付けた名前にすること
  - テストメソッドはpublicでvoid型、引数なしにすること
  - テストメソッドは日本語ではなく英語で命名すること
  - テストクラス、及びメソッドにはそのテストで何を検証するのかを説明する内容をDisplayNameアノテーションで日本語で明示すること
  - 共通のセットアップコードは@BeforeEachまたは@BeforeAllアノテーションを使用してまとめること
  - 変数名はactual*、expected*、mock*など、プレフィックスを使用して意味のある名前を使用すること
  - 不要なコメント（// Arrangeや、コードを見ればわかるコメント）は避け、コード自体が意図を明確に伝えるようにすること
  - テストコード内でのハードコーディングを避け、定数やテストデータビルダーを使用すること
  - テストデータの準備にはテストデータビルダーパターンを活用すること
  - テストコード内での例外処理は適切に行うこと
  - テストコードの実行時間を最小限に抑えることを意識すること
  - テストコードは継続的インテグレーション（CI）環境で自動的に実行されることを前提とすること
  - メソッド名は、動詞＋条件＋期待される結果の形式で命名すること
  - メソッド名は正確に表現する必要があるが、長すぎるのは避けること
  - メソッド名はキャメルケースを使用すること
