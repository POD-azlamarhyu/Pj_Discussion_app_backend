---
applyTo: "*.java"
description: "Javaの単体テストコードに関するガイドラインに従うことを指示する。"
---

# Java単体テストコードガイドライン
## 基本理念
  - 単体テストコードは、ソフトウェアの品質を保証し、バグを早期に発見するための重要な手段である
  - テストコードは読みやすく、シンプルで保守しやすいものでなければならない
  - テストコードは本番コードと同様に高い品質基準を満たす必要がある
  - 読み手に対して明確な意図が伝わるように設計すること
  - テストを独立させて、他のテストに影響を与えないようにし、変更しやすいものであること

## テストコードの品質基準
  - テストコードも本番コードと同様にDRY原則（Don't Repeat Yourself）を遵守すること
  - KISS原則（Keep It Simple, Stupid）を遵守すること
  - YAGNI原則（You Aren't Gonna Need It）を遵守すること
  - テストコードもSOLID原則を遵守すること
  - 意味のある変数名、メソッド名、クラス名を使用すること
  - プロジェクトで一貫したコーディングスタイルを維持すること
  - 関心の分離（SoC）を徹底して巨大クラス・巨大メソッドを避けること

## テストケース設計
  - 各テストケースは単一の機能またはシナリオをテストすること
  - 境界値分析、同値クラステスト、異常系テストを含むこと
  - 正常系と異常系の両方のシナリオをカバーすること
  - テストケースは独立して実行可能であること
  - テストケースは再現性があること

## 使用するフレームワークとライブラリ
  - JUnit 5を使用すること
  - Mockitoを使用してモックオブジェクトを作成すること
  - AssertJを使用してアサーションを行うこと

## テストコードの構造
  - Arrange-Act-Assert（AAA）パターンを使用してテストコードを構造化すること
  - テストメソッド名は、テスト対象のメソッド名、期待される結果を含むこと
  - テストクラスは、テスト対象のクラス名に「Tests」または「Test」を付けた名前にすること
  - 共通のセットアップコードは@BeforeEachまたは@BeforeAllアノテーションを使用してまとめること
  - 変数名はactual*、expected*、mock*など、プレフィックスを使用して意味のある名前を使用すること
  - 不要なコメント（// Arrangeや、コードを見ればわかるコメント）は避け、コード自体が意図を明確に伝えるようにすること
